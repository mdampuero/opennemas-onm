parameters:
  external.press_clipping:
    config_provider: 'external.press_clipping.provider.config'
    url:             'https://pressclipping.cedro.org'
    token_provider:  'external.press_clipping.provider.token'
    endpoints:
        upload_info:
            class: 'Common\External\PressClipping\Component\Endpoint\UploadController'
            config:
            actions:
                upload_info:
                    path: '/api/DigitalData_api/uploadInfo'
                    parameters:
                        required:
                            - publicationID
                            - title
                            - subtitle
                            - author
                            - pubDate
                            - body
                            - category
                            - image
                            - articleID
                            - articleURL
        test_connection:
            class: 'Common\External\PressClipping\Component\Endpoint\ConnectionEndpoint'
            config:
                actions:
                    test_connection:
                        path: '/v1/pressclipping/test_connection'
services:
    external.press_clipping.provider.config:
        class:     'Common\External\PressClipping\Component\Configuration\PressClippingConfigurationProvider'
        arguments: [ '@orm.manager' ]

    external.press_clipping.factory:
        class:     'Common\External\PressClipping\Component\Factory\PressClippingFactory'
        arguments: [ '@service_container', '%external.press_clipping%' ]
        public: true

    external.press_clipping.provider.token:
        class:     'Common\External\PressClipping\Component\Authentication\Token\DefaultTokenProvider'
        arguments: [ '@cache.connection.instance' ]
