entity:
    name: Purchase
    required:
        - client
        - client_id
        - created
        - details
        - fee
        - instance_id
        - invoice_id
        - method
        - payment_id
        - total
    properties:
        client:      object
        client_id:   integer
        created:     datetime
        details:     string
        fee:         float
        id:          integer
        instance_id: integer
        invoice_id:  integer
        method:      string
        payment_id:  integer
        total:       float
    converters:
        default:
            class:     Common\ORM\Database\Data\Converter\BaseConverter
            arguments: [ '@orm.metadata.purchase' ]
    repositories:
        manager:
            class:     Common\ORM\Database\Repository\BaseRepository
            arguments: [ '@orm.connection.manager', '@orm.metadata.purchase', '@cache.connection.manager' ]
    persisters:
        manager:
            class:     Common\ORM\Database\Persister\BasePersister
            arguments: [ '@orm.connection.manager', '@orm.metadata.purchase', '@cache.connection.manager' ]
    mapping:
        database:
            table: purchase
            columns:
                id:
                    type: bigint
                    options: { default: null, autoincrement: true }
                client:
                    type: text
                    options: { default: null, length: 65532, notnull: true }
                details:
                    type: text
                    options: { default: null, length: 65532, notnull: true }
                method:
                    type: string
                    options: { default: null, length: 10 }
                fee:
                    type: float
                    options: { default: 0, notnull: true }
                total:
                    type: float
                    options: { default: 0, notnull: true }
                instance_id:
                    type: bigint
                    options: { notnull: true }
                client_id:
                    type: string
                    options: { default: null, length: 60 }
                payment_id:
                    type: string
                    options: { default: null, length: 60 }
                invoice_id:
                    type: string
                    options: { default: null, length: 60 }
                created:
                    type: datetime
                    options: { default: null }
            index:
                -
                    name: PRIMARY
                    columns: [ id ]
                    primary: true
                    unique: true
                    flags: {  }
                -
                    name: client_id
                    columns: [ client_id ]
                    primary: false
                    unique: false
                    flags: { fulltext: true }
