entity:
    name: Instance
    properties:
        id:                 integer
        internal_name:      string
        name:               string
        domains:            array
        domain_expire:      datetime
        main_domain:        string
        created:            datetime
        last_login:         datetime
        settings:           array
        activated_modules:  array
        changes_in_modules: array
        activated:          boolean
        contact_mail:       string
        contents:           integer
        attachments:        integer
        articles:           integer
        opinions:           integer
        advertisements:     integer
        albums:             integer
        letters:            integer
        polls:              integer
        photos:             integer
        purchased:          array
        videos:             integer
        widgets:            integer
        static_pages:       integer
        media_size:         float
        alexa:              integer
        page_views:         integer
        emails:             integer
        users:              integer
        support_plan:       string
    mapping:
        table: instances
        metas:
            table: instance_meta
            ids:
                id: instance_id
        converters:
            default:
                class:     Common\ORM\Database\Data\Converter\BaseConverter
                arguments: [ '@orm.metadata.instance' ]
        repositories:
            database:
                class:     Common\ORM\Database\Repository\BaseRepository
                arguments: [ '@orm.connection.manager', '@orm.metadata.instance', '@cache.connection.manager' ]
        persisters:
            database:
                class:     Common\ORM\Database\Persister\BasePersister
                arguments: [ '@orm.connection.manager', '@orm.metadata.instance', '@cache.connection.manager' ]
        columns:
            id:
                type: bigint
                options: { default: null, autoincrement: true }
            internal_name:
                type: string
                options: { default: null, length: 100 }
            name:
                type: string
                options: { default: null, length: 255 }
            domains:
                type: simple_array
                options: { default: null, length: 500 }
            domain_expire:
                type: datetime
                options: { default: null, notnull: false }
            main_domain:
                type: string
                options: { default: null, length: 255 }
            created:
                type: datetimetz
                options: { default: null }
            last_login:
                type: datetimetz
                options: { default: null, notnull: false }
            settings:
                type: text
                options: { default: null, length: 65532, notnull: false }
            activated_modules:
                type: text
                options: { default: null, length: 65532, notnull: false }
            changes_in_modules:
                type: text
                options: { default: null, length: 65532, notnull: false }
            activated:
                type: boolean
                options: { default: null }
            contact_mail:
                type: string
                options: { default: null, length: 255 }
            contents:
                type: integer
                options: { default: 0, unsigned: true }
            attachments:
                type: integer
                options: { default: 0, unsigned: true }
            articles:
                type: integer
                options: { default: 0, unsigned: true }
            opinions:
                type: integer
                options: { default: 0, unsigned: true }
            advertisements:
                type: integer
                options: { default: 0, unsigned: true }
            albums:
                type: integer
                options: { default: 0, unsigned: true }
            letters:
                type: integer
                options: { default: 0, unsigned: true }
            polls:
                type: integer
                options: { default: 0, unsigned: true }
            photos:
                type: integer
                options: { default: 0, unsigned: true }
            videos:
                type: integer
                options: { default: 0, unsigned: true }
            widgets:
                type: integer
                options: { default: 0, unsigned: true }
            static_pages:
                type: integer
                options: { default: 0, unsigned: true }
            media_size:
                type: float
                options: { default: 0 }
            alexa:
                type: integer
                options: { default: null, unsigned: true }
            page_views:
                type: bigint
                options: { default: 0, unsigned: true }
            emails:
                type: integer
                options: { default: 0, unsigned: true }
            users:
                type: integer
                options: { default: 0, unsigned: true }
            support_plan:
                type: string
                options: { default: null, length: 255 }
        index:
            -
                name: PRIMARY
                columns: [ id ]
                primary: true
                unique: true
                flags: {  }
            -
                name: client_id
                columns: [ client_id ]
                primary: false
                unique: false
                flags: { fulltext: true }
