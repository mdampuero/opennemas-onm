orm:
    metadata:
        -
            name:  Category
            class: Common\Model\Entity\Category
            properties:
                id:                  integer
                title:               l10n_string
                name:                l10n_string
                description:         l10n_string
                visible:             boolean
                enabled:             boolean
                rss:                 boolean
                layout:              boolean
                parent_id:           integer
                params:              array
                logo_id:             integer
                color:               string
                cover_id:            integer
                seo_title:           l10n_string
                header_1:            l10n_string
            converters:
                default:
                    class:     Opennemas\Orm\Database\Data\Converter\BaseConverter
                    arguments: [ '@orm.metadata.category' ]
            repositories:
                instance:
                    class:     Common\Model\Database\Repository\CategoryRepository
                    arguments: [ '@orm.connection.instance', '@orm.metadata.category', '@cache.connection.instance' ]
            persisters:
                instance:
                    class:     Opennemas\Orm\Database\Persister\BasePersister
                    arguments: [ '@orm.connection.instance', '@orm.metadata.category', '@cache.connection.instance' ]
            mapping:
                database:
                    table: category
                    metas:
                        table: categorymeta
                        ids:
                            id: fk_category
                        key: meta_name
                    columns:
                        id:
                            type: integer
                            options: { default: null, unsigned: true, autoincrement: true }
                        title:
                            type: text
                            options: { default: null, length: 65532 }
                        name:
                            type: text
                            options: { default: null, length: 65532, notnull: false }
                        description:
                            type: text
                            options: { default: null, length: 65532, notnull: false }
                        visible:
                            type: integer
                            options: { default: '0', notnull: false }
                        enabled:
                            type: integer
                            options: { default: '0', notnull: false }
                        rss:
                            type: integer
                            options: { default: '0', notnull: false }
                        layout:
                            type: integer
                            options: { default: '0', notnull: false}
                        parent_id:
                            type: integer
                            options: { default: null, notnull: false }
                        params:
                            type: text
                            options: { default: null, length: 65532, notnull: false }
                        logo_id:
                            type: bigint
                            options: { default: null, unsigned: true }
                        color:
                            type: string
                            options: { default: null, notnull: false, length: 10 }
                        cover_id:
                            type: bigint
                            options: { default: null, unsigned: true }
                    index:
                        -
                            name: PRIMARY
                            columns: [ id ]
                            primary: true
                            unique: true
                            flags: {}
                        -
                            name: logo_id
                            columns: [logo_id]
                            primary: false
                            unique: false
                            flags: {}
                        -
                            name: cover_id
                            columns: [cover_id]
                            primary: false
                            unique: false
                            flags: {}
