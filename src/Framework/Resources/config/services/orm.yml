services:
    orm.loader:
        class: Framework\ORM\Loader\Loader
        arguments: [ @service_container, %plugins% ]

    orm.loader.theme:
        class: Framework\ORM\Loader\ThemeLoader
        arguments: [ @orm.validator ]

    orm.loader.schema:
        class: Framework\ORM\Loader\SchemaLoader
        arguments: [ @orm.validator.schema ]

    orm.manager.braintree:
        class: Framework\ORM\Braintree\BraintreeManager
        arguments: [ @comet_cult_braintree.factory ]

    orm.manager.freshbooks:
        class: Framework\ORM\FreshBooks\FreshBooksManager
        arguments: [ %freshbooks.domain%, %freshbooks.token% ]

    orm.manager.database:
        class: Framework\ORM\Database\DatabaseManager
        arguments: [ @cache, @dbal_connection, @cache_manager, @dbal_connection_manager ]

    orm.manager:
        class: Framework\ORM\EntityManager
        arguments: [ @orm.manager.braintree, @orm.manager.database, @orm.manager.freshbooks ]

    orm.validator:
        class: Framework\ORM\Validator\Validator
        arguments: [ %kernel.root_dir%/../src/Framework/Resources/config/orm/validation ]

    orm.validator.plugin:
        class: Framework\ORM\Validator\PluginValidator
        arguments: [ %kernel.root_dir%/../src/Framework/Resources/config/orm/validation ]

    orm.validator.schema:
        class: Framework\ORM\Validator\SchemaValidator
        arguments: [ %kernel.root_dir%/../src/Framework/Resources/config/orm/validation ]
