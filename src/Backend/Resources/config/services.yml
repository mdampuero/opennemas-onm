parameters:

services:
    backend.security.user_provider:
        class:     Backend\Security\UserProvider
        arguments: [ '@orm.manager' ]
    backend_login_success_handler:
        class:     Backend\EventListener\LoginSuccessHandler
        arguments: [ '@service_container' ]
    frontend_login_success_handler:
        class:     Frontend\EventListeners\LoginSuccessHandler
        arguments: [ '@security.token_storage', '@router', '@google_recaptcha' ]
    oauth_login_success_handler:
        class:     Backend\EventListener\OAuthLoginSuccessHandler
        arguments: [ '@security.token_storage', '@router', '@session' ]
    onm_oauth_user_provider:
        class:     Backend\Security\OnmOAuthUserProvider
        arguments: [ '@service_container' ]
    onm_password_encoder:
        class:     Backend\Security\OnmPasswordEncoder
    check_module_access:
        class:     Backend\EventListener\ModuleAnnotationListener
        arguments: [ '@router', '@annotation_reader' ]
        tags: 
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }
