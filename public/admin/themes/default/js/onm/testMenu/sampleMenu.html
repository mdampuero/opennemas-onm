<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
  <head>
    <title>jQuery : serializeTree sample</title>
		<link rel="icon" href="img/fav.ico" type="image/x-icon">
		<link rel="shortcut icon" href="img/fav.ico" type="image/x-icon">
		<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
		<script type="text/javascript" src="js/jquery-ui-1.7.2.custom.min.js"></script>
		<script type="text/javascript" src="js/jquery.serializetree.js"></script>
		<link type="text/css" href="css/jquery-ui-1.7.2.custom.css" rel="stylesheet" />
		<style type="text/css">
      body { font: 92.5% "Trebuchet MS", sans-serif; margin: 0px; padding: 0px; text-align: center; }
      #container { margin: 20px auto; width: 822px; text-align: left; }
			#mylist, #mylist ul, #mylist ul ul { list-style-type: none; padding: 0; }
			#mylist li { width: 120px; margin: 4px 0px 3px 5px; padding: 5px 7px; font-size: 90%; cursor: default; }
			.not { background: #900; color: #EEE; }
  	</style>


	</head>
	<body>
		<script type="text/javascript">
			$(document).ready(function(){

				$("button").click(function() {
					$.post("io.php",$("#mylist").serializeTree("id","postData",".not"),function(data){ $("#info").html(data);},"text");
				});

				$("#mylist").sortable({
					'items':'li',
					'placeholder':'placeholder',
					'update' : function () {
						$.post("io.php",$("#mylist").serializeTree("id","postData"),function(data){ $("#info").html(data);},"text");
					}
				}).disableSelection();

			});
		</script>
		<div id="container">
			<div style="float: left; width: 300px;">
				<ul id="mylist">
					<li class="ui-state-highlight ui-corner-all" id="level1item1">Level 1, Item 1
						<ul>
							<li class="ui-state-default ui-corner-all"   id="level2item1">Level 2, Item 1</li>
							<li class="ui-state-highlight ui-corner-all not" id="level2item2">Level 2, Item 2
								<ul>
									<li class="ui-state-default ui-corner-all" id="level3item1">Level 3, Item 1</li>
									<li class="ui-state-default ui-corner-all" id="level3item2">Level 3, Item 2</li>
									<li class="ui-state-default ui-corner-all" id="level3item3">Level 3, Item 3</li>
								</ul>
							</li>
							<li class="ui-state-default ui-corner-all" id="level2item3">Level 2, Item 3</li>
							<li class="ui-state-default ui-corner-all" id="level2item4">Level 2, Item 4</li>
						</ul>
					</li>
					<li class="ui-state-default ui-corner-all not" id="level1item2">Level 1, Item 2</li>
					<li class="ui-state-default ui-corner-all" id="level1item3">Level 1, Item 3</li>
					<li class="ui-state-highlight ui-corner-all" id="level1item4">Level 1, Item 4
						<ul>
							<li class="ui-state-default ui-corner-all" id="level2item1">Level 2, Item 1</li>
							<li class="ui-state-default ui-corner-all" id="level2item1">Level 2, Item 2</li>
						</ul>
					</li>
					<li class="ui-state-default ui-corner-all" id="level1item5">Level 1, Item 5</li>
					<li class="ui-state-default ui-corner-all" id="level1item6">Level 1, Item 6</li>
					<li class="ui-state-default ui-corner-all not" id="level1item7">Level 1, Item 7</li>
				</ul>
				<br />
				<button>send tree without red elements</button>
			</div>
			<div style="float: left; margin-top: 20px;">
				<pre>
					<div id="info" style="border: 1px dashed black; padding: 4px 6px;">Waiting for data</div>
				</pre>
				<br />
				<br />
				<a href="http://www.drakedata.com/serializetree/js/jquery.serializetree.js">Download script</a><br />
				<a href="http://www.drakedata.com/serializetree/sampleTree.html.txt">Download html</a><br />
				<a href="http://plugins.jquery.com/project/serializeTree/">Feel free to vote</a><br />
				<pre>
					<div style="border: 1px dashed black; padding: 4px 6px;">
PHP-Code:
&lt;?php
    print_r($_POST['postData']);
?&gt;
					</div>
				</pre>
			</div>
			<div style="clear: both;"></div>
		</div>
	</body>
</html>