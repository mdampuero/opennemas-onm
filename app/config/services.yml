# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
#    parameter_name: value

services:
    session.memcache:
        class: Memcached
        calls:
             - [ addServer, [ %session_memcache_host%, %session_memcache_port% ]]

    session.handler.memcache:
        class: Symfony\Component\HttpFoundation\Session\Storage\Handler\MemcachedSessionHandler
        arguments: [ @session.memcache, { prefix: %session_memcache_prefix%, expiretime: %session_memcache_expire% } ]

    session.handler.drak.redis:
        class: Drak\NativeSession\NativeRedisSessionHandler
        arguments: [%session_handler_savepath%]

    session.handler.drak.memcached:
        class: Drak\NativeSession\NativeMemcachedSessionHandler
        arguments: [%session_handler_savepath%, %session_handler_options%]

    monolog.processor.instance_name:
        class: Framework\Monolog\InstanceNameFormatter
        tags:
            - { name: monolog.processor, method: processRecord, handler: applog }

    application.log:
        alias: monolog.logger.applog

    shared_key_jwt_encoder:
        class: Lexik\Bundle\JWTAuthenticationBundle\Encoder\SharedKeyJWTEncoder
        arguments: [ %shared_key_algorithm%, %shared_key% ]
